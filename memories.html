
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Our Memories</title>
<style>
body, html {
    margin: 0; padding: 0; height: 100%; width: 100%;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    font-family: 'Comic Sans MS', cursive;
    overflow: hidden; position: relative;
    background: linear-gradient(270deg, #f8e1f4, #d7f0fa, #ffe4e1, #e0ffff);
    background-size: 800% 800%; animation: gradientBG 20s ease infinite;
}
@keyframes gradientBG {
    0% {background-position: 0% 50%;}
    50% {background-position: 100% 50%;}
    100% {background-position: 0% 50%;}
}
canvas {
    position: absolute; top: 0; left: 0; z-index: 0;
}
#slideshow {
    position: relative; width: 90%; max-width: 350px; aspect-ratio: 3/4;
    overflow: hidden; border-radius: 20px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.2); z-index: 1;
}
.slide {
    width: 100%; height: 100%;
    object-fit: cover; border-radius: 20px;
    transition: opacity 1s ease;
}
.caption {
    margin-top: 10px;
    color: #6f42c1; font-size: 1.2em; text-align: center;
    max-width: 90%; line-height: 1.4;
}
#nextLoveLetter {
    margin-top: 15px; padding: 10px 20px;
    background: #d63384; color: white; border: none;
    border-radius: 30px; font-size: 1em;
    cursor: pointer; box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    z-index: 1; transition: background 0.3s, transform 0.2s;
    display: none;
}
#nextLoveLetter:hover { background: #c2185b; transform: scale(1.05); }

/* Tap to Start Overlay */
#tapOverlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.6); color: white;
    display: flex; justify-content: center; align-items: center;
    font-size: 2em; text-align: center; z-index: 9999;
    cursor: pointer; flex-direction: column;
}
</style>
</head>
<body>

<canvas id="hearts"></canvas>

<!-- BGM -->
<audio id="bgm" src="audio/bgm.mp3" loop></audio>

<!-- Tap to Start Overlay -->
<div id="tapOverlay">
    <div>💖 Tap to Start 💖<br><span style="font-size: 0.6em;">(Music will play & slideshow will begin)</span></div>
</div>

<div id="slideshow">
    <img id="photo" src="image/photo1.jpg" class="slide" alt="Memory">
</div>
<div class="caption" id="caption">🌸 Our first memory together 🌸</div>

<button id="nextLoveLetter" onclick="window.location.href='loveletter.html'">Next: Love Letter</button>

<script>
// Get elements
const bgm = document.getElementById("bgm");
const overlay = document.getElementById("tapOverlay");
const photoElement = document.getElementById("photo");
const captionElement = document.getElementById("caption");
const nextLoveLetterBtn = document.getElementById("nextLoveLetter");

// Photos and captions
const photos = [
    "image/photo1.jpg", "image/photo2.jpg", "image/photo3.jpg", "image/photo4.jpg", "image/photo5.jpg",
    "image/photo6.jpg", "image/photo7.jpg", "image/photo8.jpg", "image/photo9.jpg", "image/photo10.jpg"
];
const captions = [
    "🌸Uniform pota kadaisi naal… un kooda edutha mudhal pic.It's not only a pic, our best moment🥺 🌸",
    "Namma story-la pause vandhadhu… full stop illa. So many tears, so many storms… but finally, we came back. Indha photo — not just a moment, it’s a miracle." 💫💞📸,
    "🏞️Breaks & fights aprom… indha filter-la dhan namma bond thirumbi vandhuchu — pure, silly, us.🐶🐱❤️ 🏞️",
    "I posed for the camera… but he looked at me. Apparam dhaan theriyum — that look spoke everything." 💘,
    "He didn’t hold my hand… but sat beside me like that was his way of not letting go." 😢,
    "🌧️ Mazhai varudhu… aana en heart-la sunshine dhan. Avan kai en kaiyila irukku nu. 🌧️☀️🤝🌧️",
    "🎡 Movie la story onnu… seat la love story onnu. Interval-la smiles romba overa irundhuchu. 😄💑🎡",
    "📚 Kannu la paartha love… kaigal la capture pannom. 📚",
    "🎶 That moment on your shoulder… my soul just melts 🎶",
    "💖 Simple ah irundhaalum, romba special ah irukku indha moment 💖"
];
let current = 0;
let slideshowInterval;

// Start music + slideshow on tap
overlay.addEventListener('click', () => {
    bgm.play();
    overlay.style.display = "none";
    slideshowInterval = setInterval(showNextPhoto, 4000);
});

// Slideshow logic
function showNextPhoto() {
    current++;
    if (current < photos.length) {
        photoElement.style.opacity = 0;
        setTimeout(() => {
            photoElement.src = photos[current];
            captionElement.textContent = captions[current];
            photoElement.style.opacity = 1;
        }, 500);
    } else {
        clearInterval(slideshowInterval);
        nextLoveLetterBtn.style.display = "inline-block";
    }
}

// Hearts animation
const canvas = document.getElementById('hearts');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
let hearts = [];
function Heart() {
    this.x = Math.random() * canvas.width;
    this.y = Math.random() * canvas.height;
    this.size = Math.random() * 20 + 10;
    this.speedY = Math.random() * 0.5 + 0.5;
    this.opacity = Math.random() * 0.5 + 0.3;
    this.color = ["#ff69b4", "#ff1493", "#ff6ec7", "#ffb6c1"][Math.floor(Math.random() * 4)];
}
Heart.prototype.draw = function() {
    ctx.globalAlpha = this.opacity;
    ctx.fillStyle = this.color;
    ctx.beginPath();
    ctx.moveTo(this.x, this.y);
    ctx.bezierCurveTo(this.x + this.size / 2, this.y - this.size / 2, this.x + this.size, this.y + this.size / 3, this.x, this.y + this.size);
    ctx.bezierCurveTo(this.x - this.size, this.y + this.size / 3, this.x - this.size / 2, this.y - this.size / 2, this.x, this.y);
    ctx.fill();
    ctx.globalAlpha = 1;
}
Heart.prototype.update = function() {
    this.y += this.speedY;
    if (this.y > canvas.height) {
        this.y = -this.size;
        this.x = Math.random() * canvas.width;
    }
    this.draw();
}
function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    if (hearts.length < 30) hearts.push(new Heart());
    hearts.forEach(h => h.update());
    requestAnimationFrame(animate);
}
animate();
window.addEventListener('resize', () => {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
});
</script>

</body>
</html>

